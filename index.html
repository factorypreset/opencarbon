<!DOCTYPE html>
<html>
<head>
  <title>OpenCarbon json tool</title>
  <link href="css/examples.css" rel="stylesheet" type="text/css">
  
  <script type="text/javascript" src="lib/require.js"></script>
  <script type="text/javascript" src="config.js"></script>

  <script type="text/javascript">
    
    require(['backbone', 'jquery', 'jquery.flot', 'models/city', 'json!data/cities/austin.json'], function(Backbone, $, flot, City, austinData){

        var austin = new City('austin', austinData );

        austin.fetch().complete(function(){
          console.log(austin);
          var plots = austin.plot(),
              source = austin.source();

          $("#header h2").text(austin.title());
          $.plot("#placeholder", plots);

          // TODO: this should be in a template
          $("#details p").html('Source: <a href="' + source['url'] + '">' + source['title'] + '</a> (' + source['author'] +')');
        });


      });

  </script>

</head>
<body>
  <div id="header">
    <h2>OpenCarbon Inventory</h2>
    </div>

    <div id="content">

      <div class="demo-container">
        <div id="placeholder" class="demo-placeholder"></div>
      </div>

      <div class="details" id="details">
        <p></p>
      </div>

    </div>

    <div id="footer"></div>
</body>
</html>
